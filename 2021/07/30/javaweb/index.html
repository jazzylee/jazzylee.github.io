<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"jazzylee.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.6.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="Java Webï¼Œæ˜¯ç”¨JavaæŠ€æœ¯æ¥è§£å†³ç›¸å…³webäº’è”ç½‘é¢†åŸŸçš„æŠ€æœ¯æ€»å’Œã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="javaweb">
<meta property="og:url" content="https://jazzylee.github.io/2021/07/30/javaweb/index.html">
<meta property="og:site_name" content="åŒ—æ¸¸è®°">
<meta property="og:description" content="Java Webï¼Œæ˜¯ç”¨JavaæŠ€æœ¯æ¥è§£å†³ç›¸å…³webäº’è”ç½‘é¢†åŸŸçš„æŠ€æœ¯æ€»å’Œã€‚">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730223535204.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730190408758.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730190659490.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730191126022.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730221100815.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210731215119814.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210801120722518.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210801154513414.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210801212901976.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210801213356124.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210802095227223.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210802101245545.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210802131132288.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210802131132288.png">
<meta property="og:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210803181252531.png">
<meta property="article:published_time" content="2021-07-30T03:31:45.000Z">
<meta property="article:modified_time" content="2021-08-13T14:59:23.671Z">
<meta property="article:author" content="movice">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jazzylee.github.io/2021/07/30/javaweb/image-20210730223535204.png">


<link rel="canonical" href="https://jazzylee.github.io/2021/07/30/javaweb/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://jazzylee.github.io/2021/07/30/javaweb/","path":"2021/07/30/javaweb/","title":"javaweb"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>javaweb | åŒ—æ¸¸è®°</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">åŒ—æ¸¸è®°</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.</span> <span class="nav-text">å‡†å¤‡å·¥ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Tomcat"><span class="nav-number">1.1.</span> <span class="nav-text">Tomcat</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.1.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">1.1.2.</span> <span class="nav-text">ä½¿ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IDEA%E4%B8%AD%E4%BD%BF%E7%94%A8Tomcat"><span class="nav-number">1.1.3.</span> <span class="nav-text">IDEAä¸­ä½¿ç”¨Tomcat</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maven"><span class="nav-number">1.2.</span> <span class="nav-text">Maven</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-number">1.2.1.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.2.2.</span> <span class="nav-text">ç¯å¢ƒå˜é‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="nav-number">1.2.3.</span> <span class="nav-text">é•œåƒåŠ é€Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="nav-number">1.2.4.</span> <span class="nav-text">æœ¬åœ°ä»“åº“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8maven%E6%A8%A1%E6%9D%BF%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.2.5.</span> <span class="nav-text">ä½¿ç”¨mavenæ¨¡æ¿åˆ›å»ºé¡¹ç›®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAMaven%E7%A9%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.2.6.</span> <span class="nav-text">åˆ›å»ºMavenç©ºé¡¹ç›®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Servlet-Demo"><span class="nav-number">1.2.7.</span> <span class="nav-text">Servlet Demo</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Servlet"><span class="nav-number">2.</span> <span class="nav-text">Servlet</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HelloServlet"><span class="nav-number">2.1.</span> <span class="nav-text">HelloServlet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletContext"><span class="nav-number">2.2.</span> <span class="nav-text">ServletContext</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="nav-number">2.2.1.</span> <span class="nav-text">å…±äº«æ•°æ®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0"><span class="nav-number">2.2.2.</span> <span class="nav-text">è·å–åˆå§‹åŒ–å‚æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="nav-number">2.2.3.</span> <span class="nav-text">è¯·æ±‚è½¬å‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.4.</span> <span class="nav-text">è¯»å–èµ„æºæ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpServletResponse"><span class="nav-number">2.3.</span> <span class="nav-text">HttpServletResponse</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%91%E7%BD%91%E9%A1%B5%E8%BE%93%E5%87%BA%E6%B6%88%E6%81%AF"><span class="nav-number">2.3.1.</span> <span class="nav-text">å‘ç½‘é¡µè¾“å‡ºæ¶ˆæ¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="nav-number">2.3.2.</span> <span class="nav-text">æ–‡ä»¶ä¸‹è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="nav-number">2.3.3.</span> <span class="nav-text">éªŒè¯ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">2.3.4.</span> <span class="nav-text">é‡å®šå‘</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpServletRequest"><span class="nav-number">2.4.</span> <span class="nav-text">HttpServletRequest</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E4%BC%A0%E9%80%92%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">2.4.1.</span> <span class="nav-text">è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91-1"><span class="nav-number">2.4.2.</span> <span class="nav-text">è¯·æ±‚è½¬å‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Demo"><span class="nav-number">2.4.3.</span> <span class="nav-text">Demo</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Session%E4%B8%8ECookie"><span class="nav-number">3.</span> <span class="nav-text">Sessionä¸Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cookie-%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">3.1.</span> <span class="nav-text">Cookie@å®¢æˆ·ç«¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session-%E6%9C%8D%E5%8A%A1%E5%99%A8%E2%AD%90"><span class="nav-number">3.2.</span> <span class="nav-text">Session@æœåŠ¡å™¨â­</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java-Server-Pages"><span class="nav-number">4.</span> <span class="nav-text">Java Server Pages</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP%E5%8E%9F%E7%90%86"><span class="nav-number">4.1.</span> <span class="nav-text">JSPåŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP%E8%AF%AD%E6%B3%95"><span class="nav-number">4.2.</span> <span class="nav-text">JSPè¯­æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">4.2.1.</span> <span class="nav-text">æ³¨é‡Š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.2.2.</span> <span class="nav-text">Javaè¯­å¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSP%E5%A3%B0%E6%98%8E"><span class="nav-number">4.2.3.</span> <span class="nav-text">JSPå£°æ˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DIY%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.2.4.</span> <span class="nav-text">DIYé”™è¯¯é¡µé¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%85%E5%90%ABHTML%E5%85%AC%E5%85%B1%E9%A1%B5%E9%9D%A2"><span class="nav-number">4.2.5.</span> <span class="nav-text">åŒ…å«HTMLå…¬å…±é¡µé¢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP%E4%B9%9D%E5%A4%A7%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.3.</span> <span class="nav-text">JSPä¹å¤§å¯¹è±¡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP-JSTL-EL"><span class="nav-number">4.4.</span> <span class="nav-text">JSP&#x2F;JSTL&#x2F;EL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Expression-Language"><span class="nav-number">4.4.1.</span> <span class="nav-text">Expression Language</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8"><span class="nav-number">4.4.1.1.</span> <span class="nav-text">ä½œç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="nav-number">4.4.1.2.</span> <span class="nav-text">ä½¿ç”¨</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSP"><span class="nav-number">4.4.2.</span> <span class="nav-text">JSP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSTL-Java-server-pages-Standard-Tag-Library"><span class="nav-number">4.4.3.</span> <span class="nav-text">JSTL(Java server pages Standard Tag Library)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8"><span class="nav-number">4.4.3.1.</span> <span class="nav-text">ä¸å¸¸ç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E6%A0%87%E7%AD%BE%E2%AD%90"><span class="nav-number">4.4.3.2.</span> <span class="nav-text">æ ¸å¿ƒæ ‡ç­¾â­</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5"><span class="nav-number">4.4.3.2.1.</span> <span class="nav-text">å¯¼å…¥</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-2"><span class="nav-number">4.4.3.2.2.</span> <span class="nav-text">ä½¿ç”¨</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaBean%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="nav-number">4.5.</span> <span class="nav-text">JavaBeanå®ä½“ç±»</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="nav-number">5.</span> <span class="nav-text">MVCä¸‰å±‚æ¶æ„</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">6.</span> <span class="nav-text">è¿‡æ»¤å™¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-number">7.</span> <span class="nav-text">ç›‘å¬å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#session%E7%9B%91%E5%90%AC"><span class="nav-number">7.1.</span> <span class="nav-text">sessionç›‘å¬</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JDBC%E5%A4%8D%E4%B9%A0"><span class="nav-number">8.</span> <span class="nav-text">JDBCå¤ä¹ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JUNIT%E6%B5%8B%E8%AF%95"><span class="nav-number">9.</span> <span class="nav-text">JUNITæµ‹è¯•</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AJAX"><span class="nav-number">10.</span> <span class="nav-text">AJAX</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF"><span class="nav-number">10.1.</span> <span class="nav-text">å‰ç«¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF"><span class="nav-number">10.2.</span> <span class="nav-text">åç«¯</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%9B%9E%E9%A1%BE"><span class="nav-number">11.</span> <span class="nav-text">è®¢å•ç®¡ç†ç³»ç»Ÿå›é¡¾</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">movice</p>
  <div class="site-description" itemprop="description">ğŸ”¥impetuousğŸ”¥fireğŸ”¥</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



          </div>
        </div>
    </div>
    <div>
      <!--clustrmaps-->
      <script type="text/javascript" id="clustrmaps" src="//clustrmaps.com/map_v2.js?d=V7pseSmYqG3eRqg-m6VS1UxwXHXL8gIybqq7QtBtLug&cl=ffffff&w=a"></script>
    </div>
    <!--music-->
    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=509720124&auto=0&height=66"></iframe>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jazzylee.github.io/2021/07/30/javaweb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="movice">
      <meta itemprop="description" content="ğŸ”¥impetuousğŸ”¥fireğŸ”¥">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åŒ—æ¸¸è®°">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          javaweb
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-30 11:31:45" itemprop="dateCreated datePublished" datetime="2021-07-30T11:31:45+08:00">2021-07-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-08-13 22:59:23" itemprop="dateModified" datetime="2021-08-13T22:59:23+08:00">2021-08-13</time>
      </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<p>Java Webï¼Œæ˜¯ç”¨JavaæŠ€æœ¯æ¥è§£å†³ç›¸å…³webäº’è”ç½‘é¢†åŸŸçš„æŠ€æœ¯æ€»å’Œã€‚</p>
</blockquote>
<span id="more"></span>

<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p><a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-90.cgi">ä¸‹è½½Tomcat9</a>ã€è§£å‹ã€‚(Tomcat10æœ‰ç‚¹é—®é¢˜)</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><code>./bin/startup.bat</code>å¯åŠ¨æœåŠ¡</p>
<p><code>./bin/shutdown.bat</code>å…³é—­æœåŠ¡</p>
<p><code>./webapps/</code>ç›®å½•ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶å¤¹éƒ½æ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œæ ¸å¿ƒç›®å½•ç»“æ„å¦‚ä¸‹</p>
<blockquote>
<p>webapps</p>
<blockquote>
<p>mysite ç½‘ç«™ç›®å½•å</p>
<blockquote>
<p>index.html:é»˜è®¤é¦–é¡µ</p>
<p>WEB-INF</p>
<blockquote>
<p>classes:javaç¨‹åº</p>
<p>lib:webåº”ç”¨ä¾èµ–çš„jaråŒ…</p>
<p>web.xml</p>
</blockquote>
<p>static</p>
<blockquote>
<p>css</p>
<p>js</p>
<p>img</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p><code>./conf/server.xml</code>æ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
<blockquote>
<p>portï¼šè®¿é—®çš„ç«¯å£å·ï¼Œé»˜è®¤8080</p>
<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;
          connectionTimeout=&quot;20000&quot;
           redirectPort=&quot;8443&quot; /&gt;
</code></pre>
</blockquote>
<h3 id="IDEAä¸­ä½¿ç”¨Tomcat"><a href="#IDEAä¸­ä½¿ç”¨Tomcat" class="headerlink" title="IDEAä¸­ä½¿ç”¨Tomcat"></a>IDEAä¸­ä½¿ç”¨Tomcat</h3><p><img src="./image-20210730223535204.png" alt="image-20210730223535204"></p>
<p>Tomcatåœ¨IDEAä¸­ä¹±ç è§£å†³æ–¹å¼ï¼š<a target="_blank" rel="noopener" href="https://www.cnblogs.com/seawavelin/p/15133116.html">ğŸ”—</a></p>
<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><p>Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ–¹ä¾¿åœ°å¯¼å…¥jaråŒ…ã€‚</p>
<h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p><a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">ä¸‹è½½</a>binå¹¶è§£å‹</p>
<h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><ul>
<li>M2_HOME:binç›®å½•</li>
<li>MAVEN_HOME:æ ¹ç›®å½•</li>
<li>Pathï¼š%MAVEN_HOME%\bin</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -version</span><br></pre></td></tr></table></figure>

<h3 id="é•œåƒåŠ é€Ÿ"><a href="#é•œåƒåŠ é€Ÿ" class="headerlink" title="é•œåƒåŠ é€Ÿ"></a>é•œåƒåŠ é€Ÿ</h3><p>ä¿®æ”¹<code>./conf/settings.xml</code>ï¼Œåœ¨mirrorsæ ‡ç­¾ä¸‹æ’å…¥ä¸‹é¢å†…å®¹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<h3 id="æœ¬åœ°ä»“åº“"><a href="#æœ¬åœ°ä»“åº“" class="headerlink" title="æœ¬åœ°ä»“åº“"></a>æœ¬åœ°ä»“åº“</h3><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚åœ¨mavenæ ¹ç›®å½•æ–°å»ºä¸€ä¸ª<code>maven-repo</code>ç›®å½•ï¼Œå¹¶åœ¨<code>./conf/settings.xml</code>ä¸­ä¿®æ”¹<code>localRepository</code>æ ‡ç­¾ï¼Œå†…å®¹å¡«å†™<code>maven-repo</code>çš„åœ°å€ã€‚</p>
<h3 id="ä½¿ç”¨mavenæ¨¡æ¿åˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨mavenæ¨¡æ¿åˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨mavenæ¨¡æ¿åˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨mavenæ¨¡æ¿åˆ›å»ºé¡¹ç›®</h3><p>New Project-&gt;Maven-&gt;Create from archetype(ä½¿ç”¨Mavenæ¨¡æ¿)-&gt;maven archetype webapp-&gt;Next</p>
<p><img src="./image-20210730190408758.png" alt="image-20210730190408758"></p>
<blockquote>
<p>Maven GAV:ç»„ID,é¡¹ç›®å,ç‰ˆæœ¬å·</p>
</blockquote>
<p>é…ç½®åœ°å€</p>
<p><img src="./image-20210730190659490.png" alt="image-20210730190659490"></p>
<p>Finishä¹‹åä¼šä»é˜¿é‡Œäº‘é•œåƒä¸‹è½½ä¸œè¥¿ï¼Œå®Œæˆårepoç›®å½•ä¸‹ä¼šæœ‰ä¸€äº›jaråŒ…</p>
<img src="./image-20210730191126022.png" alt="image-20210730191126022" style="zoom:50%;" />

<p>åˆ›å»ºå®Œæˆåè¿›è®¾ç½®ç¡®è®¤ä¸€ä¸‹å¯¼å…¥äº†æ­£ç¡®çš„Maven</p>
<p><img src="./image-20210730221100815.png" alt="image-20210730221100815"></p>
<p>ç›®å½•ç»“æ„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">E:.</span><br><span class="line">â”œâ”€.idea</span><br><span class="line">â”œâ”€src</span><br><span class="line">â”‚  â””â”€main</span><br><span class="line">â”‚      â””â”€webapp</span><br><span class="line">â”‚          â””â”€WEB-INF</span><br><span class="line">â””â”€target</span><br><span class="line">    â””â”€javaweb-01-maven</span><br><span class="line">        â”œâ”€META-INF</span><br><span class="line">        â””â”€WEB-INF</span><br></pre></td></tr></table></figure>

<p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaweb-01-maven<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>javaweb-01-maven Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- FIXME change it to the project&#x27;s website --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.example.com<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>javaweb-01-maven<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span><span class="comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-clean-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºMavenç©ºé¡¹ç›®"><a href="#åˆ›å»ºMavenç©ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºMavenç©ºé¡¹ç›®"></a>åˆ›å»ºMavenç©ºé¡¹ç›®</h3><p>ç›®å½•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">E:.</span><br><span class="line">â”œâ”€.idea</span><br><span class="line">â””â”€src</span><br><span class="line">    â”œâ”€main</span><br><span class="line">    â”‚  â”œâ”€java</span><br><span class="line">    â”‚  â””â”€resources</span><br><span class="line">    â””â”€<span class="built_in">test</span></span><br><span class="line">        â””â”€java</span><br></pre></td></tr></table></figure>

<p>pom.xmlï¼Œåœ¨dependencyæ ‡ç­¾ä¸­å¡«å†™GAVå³å¯å¯¼å…¥jaråŒ…ï¼ŒjaråŒ…çš„GAVä¿¡æ¯å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://mvnrepository.com/">mavenä»“åº“</a>æ£€ç´¢ã€‚</p>
<blockquote>
<p>Mavenå¯ä»¥è‡ªåŠ¨å¯¼å…¥jaråŒ…ä¾èµ–çš„å…¶ä»–åŒ…</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-no-template<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Servlet-Demo"><a href="#Servlet-Demo" class="headerlink" title="Servlet Demo"></a>Servlet Demo</h3><p>ç»§æ‰¿HttpServletç¼–å†™HelloServletç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//ç›¸åº”ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºæµPrintWriter</span></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        out.println(<span class="string">&quot;&lt;html&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;head&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;title&gt;Hello World!&lt;/title&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/head&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/body&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>web.xmlæ˜¯é…ç½®webappçš„æ ¸å¿ƒã€‚å¤´éƒ¨æ ¹æ®Tomcat exampleè¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ³¨å†Œservlet</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee</span></span></span><br><span class="line"><span class="string"><span class="tag">                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;5.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">metadata-complete</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    //æ³¨å†Œservlet</span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello servlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    //ä¸€ä¸ªservletå¯¹åº”ä¸€ä¸ªæ˜ å°„</span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello servlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8080/hello/%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%89%93%E5%BC%80http://localhost:8080/hello/index.jsp%EF%BC%8C%E5%85%B6%E4%B8%ADhello%E6%98%AFidea%E4%B8%ADTomcat%E9%85%8D%E7%BD%AE%E7%9A%84%E6%98%A0%E5%B0%84%E3%80%82">http://localhost:8080/hello/ï¼Œé»˜è®¤æ‰“å¼€http://localhost:8080/hello/index.jspï¼Œå…¶ä¸­helloæ˜¯ideaä¸­Tomcaté…ç½®çš„æ˜ å°„ã€‚</a></p>
<hr>

<p>åœ¨web.xmlä¸­ï¼Œå¯ä»¥è®¾ç½®é¦–é¡µï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>login.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><blockquote>
<p>Servletæ˜¯SUNå…¬å¸å¼€å‘çš„åŠ¨æ€webæŠ€æœ¯ã€‚</p>
<p>å¼€å‘Servletç¨‹åºéœ€è¦ï¼š</p>
<ul>
<li>å®ç°Servletæ¥å£(Servletæœ‰ä¸¤ä¸ªç°æˆçš„å®ç°ç±»ï¼Œ<code>HttpServlet</code>/<code>GenericServlet</code>)</li>
<li>éƒ¨ç½²</li>
</ul>
</blockquote>
<h2 id="HelloServlet"><a href="#HelloServlet" class="headerlink" title="HelloServlet"></a>HelloServlet</h2><p>æ–°å»ºä¸€ä¸ªç©ºçš„Mavené¡¹ç›®(ä½œä¸ºçˆ¶å·¥ç¨‹)ï¼Œåˆ é™¤srcæ–‡ä»¶å¤¹ï¼Œåœ¨pomä¸­æ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé¡¹ç›®New-&gt;Module-&gt;Maven-archetype-webappï¼Œåˆ›å»ºMaven webå­å·¥ç¨‹(è¿™é‡Œå‘½åä¸ºservlet-01)ï¼Œå¹¶æ›´æ–°å­web.xmlã€‚</p>
<p>åˆ›å»ºå®Œæˆåï¼Œçˆ¶å·¥ç¨‹çš„pomä¸­ä¼šè‡ªåŠ¨æ·»åŠ å­æ¨¡å—çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">module</span>&gt;</span>servlet-01<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å­é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨çˆ¶é¡¹ç›®çš„jaråŒ…ã€‚</p>
<p>æœ€åï¼Œåœ¨å­é¡¹ç›®çš„mainè·¯å¾„æ–°å»º<code>main</code>å’Œ<code>resources</code>ç›®å½•ã€‚</p>
<hr>
`HelloServlet.java`

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ”¶åˆ°GETè¯·æ±‚&quot;</span>);</span><br><span class="line">        PrintWriter writer = resp.getWriter();</span><br><span class="line">        writer.print(<span class="string">&quot;Hello Servlet!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>web.xml</code>çš„<code>web-app</code>æ ‡ç­¾å†…æ’å…¥ä¸‹é¢çš„æ•°æ®ï¼Œ<code>servlet-class</code>æ˜¯æ˜ å°„ç±»ï¼Œ<code>url-pattern</code>æ˜¯æ˜ å°„è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Servlet Demo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>io.github.jazzylee.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Servlet Demo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="./image-20210731215119814.png" alt="image-20210731215119814"></p>
<p>Mapping Noteï¼š</p>
<ul>
<li>æ˜ å°„åœ°å€å¯ä»¥æ˜¯ä¸€å¯¹ä¸€ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å¯¹å¤š</li>
<li>æ˜ å°„åœ°å€ä¸­å¯ä»¥ä½¿ç”¨<code>*</code>é€šé…ç¬¦</li>
<li>ä¼˜å…ˆèµ°å…·ä½“çš„æ˜ å°„</li>
</ul>
<h2 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h2><p>ServletContextç”¨äºåœ¨ä¸åŒæœåŠ¡ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚</p>
<h3 id="å…±äº«æ•°æ®"><a href="#å…±äº«æ•°æ®" class="headerlink" title="å…±äº«æ•°æ®"></a>å…±äº«æ•°æ®</h3><p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<p>åœ¨ä¸€ä¸ªserviceä¸­è®¾ç½®å‚æ•°ï¼Œ<code>setAttribute</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‚æ•°å(String)ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º<code>Object</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line">servletContext.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;å°æ˜&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>åœ¨å¦ä¸€ä¸ªserviceä¸­æ¥æ”¶å‚æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line">String name =(String) servletContext.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">System.out.println(name);</span><br></pre></td></tr></table></figure>

<h3 id="è·å–åˆå§‹åŒ–å‚æ•°"><a href="#è·å–åˆå§‹åŒ–å‚æ•°" class="headerlink" title="è·å–åˆå§‹åŒ–å‚æ•°"></a>è·å–åˆå§‹åŒ–å‚æ•°</h3><p>æ­¤å¤–ï¼ŒServletContextè¿˜å¯ä»¥è·å–web.xmlä¸‹åˆå§‹åŒ–çš„å‚æ•°ï¼Œä¾‹å¦‚åœ¨web.xmlä¸­è®¾ç½®å¦‚ä¸‹å‚æ•°</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>xmlPara<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è·å–æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line">String xmlPara = servletContext.getInitParameter(<span class="string">&quot;xmlPara&quot;</span>);</span><br><span class="line">System.out.println(xmlPara);</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h3><p>è½¬å‘çš„æ—¶å€™urlä¸ä¼šå˜ï¼Œä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">servletContext.getRequestDispatcher(<span class="string">&quot;/test&quot;</span>).forward(req,resp);</span><br></pre></td></tr></table></figure>

<h3 id="è¯»å–èµ„æºæ–‡ä»¶"><a href="#è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="è¯»å–èµ„æºæ–‡ä»¶"></a>è¯»å–èµ„æºæ–‡ä»¶</h3><p>è¦æƒ³è¯»å–èµ„æºæ–‡ä»¶ï¼Œå°±è¦çŸ¥é“æ‰“åŒ…åèµ„æºæ–‡ä»¶çš„ä½ç½®ã€‚main/resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºdb.propertiesçš„æ–‡ä»¶</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name</span>=<span class="string">admin</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">admin</span></span><br></pre></td></tr></table></figure>

<p>æ‰“åŒ…ä¹‹åå°†ä¼šä¿å­˜åˆ°WEB-INF/db.properties</p>
<p>å¦‚æœmain/javaè·¯å¾„ä¸‹æœ‰èµ„æºæ–‡ä»¶ï¼Œéœ€è¦åœ¨é¡¹ç›®çš„pomä¸­æ‰‹åŠ¨æ·»åŠ èµ„æºè·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™éƒ¨åˆ†ä½œäº†ä¿®æ”¹ä¹‹åï¼Œéœ€è¦é‡å¯IDEAæ‰èƒ½ç”Ÿæ•ˆ</p>
</blockquote>
<p>é‡æ–°æ‰“åŒ…åï¼Œmain/javaè·¯å¾„ä¸‹çš„èµ„æºæ–‡ä»¶å°†ä¿å­˜åˆ°WEB-INF/classè·¯å¾„ä¸‹çš„å¯¹åº”ä½ç½®ã€‚</p>
<p>db.propertiesçš„è¯»å–ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">InputStream inp = <span class="keyword">this</span>.getServletContext().getResourceAsStream(<span class="string">&quot;./WEB-INF/classes/db.properties&quot;</span>);</span><br><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">properties.load(inp);</span><br><span class="line">String name = properties.getProperty(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">String password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h2><p>HttpServletResponseç»§æ‰¿è‡ªServletResponseï¼Œåè€…å…±æœ‰ä¸‹åˆ—æ–¹æ³•</p>
<p><img src="./image-20210801120722518.png" alt="image-20210801120722518"></p>
<h3 id="å‘ç½‘é¡µè¾“å‡ºæ¶ˆæ¯"><a href="#å‘ç½‘é¡µè¾“å‡ºæ¶ˆæ¯" class="headerlink" title="å‘ç½‘é¡µè¾“å‡ºæ¶ˆæ¯"></a>å‘ç½‘é¡µè¾“å‡ºæ¶ˆæ¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Returns a ServletOutputStream suitable for writing binary data in the response. </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServletOutputStream <span class="title">getOutputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Returns a PrintWriter object that can send character text to the client</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PrintWriter <span class="title">getWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="comment">//ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">    String realPath = <span class="string">&quot;E:\\DevFiles\\JavaDev\\mavenProjs\\helloservlet\\RespDemo\\src\\main\\resources\\bd.png&quot;</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„&quot;</span>+realPath);</span><br><span class="line">    <span class="comment">//ä¸‹è½½æ–‡ä»¶åï¼Œä½¿ç”¨æœ€åä¸€ä¸ª/åˆ†å‰²</span></span><br><span class="line">    String fileName = realPath.substring(realPath.lastIndexOf(<span class="string">&quot;\\&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®æµè§ˆå™¨å¤´ï¼Œè®©æµè§ˆå™¨èƒ½å¤Ÿä¸‹è½½,æ–‡ä»¶åè½¬ä¸ºUTF-8ç¼–ç </span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;Content-disposition&quot;</span>,<span class="string">&quot;attachment;filename&quot;</span>+ URLEncoder.encode(fileName,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    <span class="comment">//ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(realPath);</span><br><span class="line">    <span class="comment">//ç¼“å†²åŒº</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="comment">//è¾“å‡ºæµ</span></span><br><span class="line">    ServletOutputStream outputStream = resp.getOutputStream();</span><br><span class="line">    <span class="keyword">while</span>((len=fileInputStream.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        outputStream.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…³é—­æµ</span></span><br><span class="line">    outputStream.close();</span><br><span class="line">    fileInputStream.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="éªŒè¯ç "><a href="#éªŒè¯ç " class="headerlink" title="éªŒè¯ç "></a>éªŒè¯ç </h3><p>ç”Ÿæˆéšæœºæ•°ï¼Œä½¿ç”¨awtç”»å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="comment">//æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°</span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">    <span class="comment">//å›¾ç‰‡</span></span><br><span class="line">    BufferedImage image = <span class="keyword">new</span> BufferedImage(<span class="number">80</span>,<span class="number">20</span>,BufferedImage.TYPE_INT_RGB);</span><br><span class="line">    <span class="comment">//ç¬”</span></span><br><span class="line">    Graphics2D pen = (Graphics2D) image.getGraphics();</span><br><span class="line">    pen.setColor(Color.WHITE);</span><br><span class="line">    pen.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">80</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="comment">//ç”»éšæœºæ•°</span></span><br><span class="line">    pen.setColor(Color.BLUE);</span><br><span class="line">    pen.setFont(<span class="keyword">new</span> Font(<span class="keyword">null</span>,Font.BOLD,<span class="number">15</span>));</span><br><span class="line">    String num = generateRand();</span><br><span class="line">    System.out.println(<span class="string">&quot;éšæœºæ•°:&quot;</span>+num);</span><br><span class="line">    pen.drawString(num,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®ç›¸åº”ç±»å‹</span></span><br><span class="line">    resp.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line">    <span class="comment">//ç½‘ç«™æœ‰ç¼“å­˜ï¼Œè¿™é‡Œè®¾ç½®ç¦ç”¨ç¼“å­˜</span></span><br><span class="line">    resp.setDateHeader(<span class="string">&quot;expires&quot;</span>,-<span class="number">1</span>);</span><br><span class="line">    resp.setHeader(<span class="string">&quot;Cache-Control&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line">    resp.setHeader(<span class="string">&quot;Pragma&quot;</span>, <span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line">    <span class="comment">//å›¾ç‰‡å“åº”</span></span><br><span class="line">    ImageIO.write(image,<span class="string">&quot;jpg&quot;</span>,resp.getOutputStream());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”Ÿæˆ8ä½éšæœºæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">generateRand</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    String randNum = random.nextInt(<span class="number">99999999</span>) + <span class="string">&quot;&quot;</span>;</span><br><span class="line">    StringBuffer fullFill = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>-randNum.length(); i++) &#123;</span><br><span class="line">        fullFill.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    String finalRandNum = fullFill.toString()+randNum;</span><br><span class="line">    <span class="keyword">return</span> finalRandNum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³äºç¦ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://blog.csdn.net/fengzibs/article/details/85321530">åšå®¢</a></p>
<h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendRedirect</span><span class="params">(String location)</span> <span class="keyword">throws</span> IOException</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resp.sendRedirect(<span class="string">&quot;/r/download&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="./image-20210801154513414.png" alt="image-20210801154513414"></p>
<hr>

<p>è¡¨å•æäº¤é‡å®šå‘ï¼Œå°†ReqTestæ˜ å°„åˆ°/reqè·¯å¾„ï¼Œreqå¯ä»¥è·å–æäº¤çš„å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReqTest</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥è¯·æ±‚&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”¨æˆ·å:&quot;</span>+username);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¯†ç :&quot;</span>+password);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.jspï¼Œ<code>$&#123;pageContext.request.contextPath&#125;</code>ç”¨äºè·å–å½“å‰è·¯å¾„</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/req&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    &lt;span&gt;ç”¨æˆ·å</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> id=<span class="string">&quot;uname&quot;</span>&gt;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">        å¯†ç </span><br><span class="line">        &lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h2 id="HttpServletRequest"><a href="#HttpServletRequest" class="headerlink" title="HttpServletRequest"></a>HttpServletRequest</h2><p>HttpServletRequestå¯¹è±¡å¸¸è§æ“ä½œæ˜¯è·å–å‰ç«¯ç©¿æˆ´çš„å‚æ•°ï¼Œä»¥åŠè¯·æ±‚è½¬å‘</p>
<h3 id="è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°"><a href="#è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°" class="headerlink" title="è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°"></a>è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°</h3><p>æ ¸å¿ƒæœ‰ä¸¤ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span></span>;</span><br><span class="line"><span class="keyword">public</span> String[] getParameterValues(String name);<span class="comment">//checkboxä¹‹ç±»çš„åœºæ™¯</span></span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è½¬å‘-1"><a href="#è¯·æ±‚è½¬å‘-1" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestDispatcher(<span class="string">&quot;/success.jsp&quot;</span>).forward(req,resp);</span><br></pre></td></tr></table></figure>

<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p>index.jspï¼Œä¸»è¦å«æœ‰ä¸€ä¸ªè¡¨å•ï¼Œpostæ–¹å¼æäº¤</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ç™»å½•&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;ç™»å½•&lt;/h1&gt;</span><br><span class="line">    &lt;div style=<span class="string">&quot;text-align: center&quot;</span>&gt;</span><br><span class="line">        &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">            username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">            password:&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">            hobbies:&lt;br&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;lang&quot;</span> value=<span class="string">&quot;C&quot;</span>&gt;C</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;lang&quot;</span> value=<span class="string">&quot;C++&quot;</span>&gt;C++</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;lang&quot;</span> value=<span class="string">&quot;C++--&quot;</span>&gt;C++--</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;lang&quot;</span> value=<span class="string">&quot;C++++&quot;</span>&gt;C++++</span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>javaç¨‹åºï¼Œå¤„ç†Postè¯·æ±‚ï¼Œæ‰“å°è¡¨å•æäº¤ä¿¡æ¯ï¼Œå¹¶è½¬å‘åˆ°æˆåŠŸé¡µé¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;name:&quot;</span>+username);</span><br><span class="line">        System.out.println(<span class="string">&quot;pw:&quot;</span>+password);</span><br><span class="line">        String[] hobbies = req.getParameterValues(<span class="string">&quot;lang&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String hobby : hobbies) &#123;</span><br><span class="line">            System.out.println(hobby);</span><br><span class="line">        &#125;</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/success.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Sessionä¸Cookie"><a href="#Sessionä¸Cookie" class="headerlink" title="Sessionä¸Cookie"></a>Sessionä¸Cookie</h1><p>Sessionä¸Cookieæ˜¯ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯ã€‚</p>
<p>Session IDä»¥Cookieçš„æ–¹å¼å­˜å‚¨ï¼Œé€šè¿‡Session IDåŒºåˆ†ä¸åŒçš„ç”¨æˆ·(æµè§ˆå™¨)ï¼Œä¸€äº›å˜é‡çš„ä¿¡æ¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­ã€‚</p>
<h2 id="Cookie-å®¢æˆ·ç«¯"><a href="#Cookie-å®¢æˆ·ç«¯" class="headerlink" title="Cookie@å®¢æˆ·ç«¯"></a>Cookie@å®¢æˆ·ç«¯</h2><p>æ ¸å¿ƒç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies = req.getCookies();<span class="comment">//è·å–Cookieåˆ—è¡¨</span></span><br><span class="line">getName()<span class="comment">//è·å–å•ä¸ªcookieçš„key</span></span><br><span class="line">getValue()<span class="comment">//è·å–å•ä¸ªcookieçš„value</span></span><br><span class="line"></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;lastLogin&quot;</span>,System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);<span class="comment">//æ–°å»ºcookie</span></span><br><span class="line">cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>);<span class="comment">//è®¾ç½®æœ‰æ•ˆæœŸï¼Œå•ä½æ˜¯s</span></span><br><span class="line">resp.addCookie(cookie);<span class="comment">//æ·»åŠ Cookie</span></span><br></pre></td></tr></table></figure>

<p>å®Œæ•´ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CookieDemo</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        PrintWriter out = resp.getWriter();</span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="keyword">if</span>(cookies!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cookies.length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(cookies[i].getName().equals(<span class="string">&quot;lastLogin&quot;</span>))&#123;</span><br><span class="line">                    String value = cookies[i].getValue();</span><br><span class="line">                    <span class="keyword">long</span> time = Long.parseLong(value);</span><br><span class="line">                    Date date = <span class="keyword">new</span> Date(time);</span><br><span class="line">                    out.println(<span class="string">&quot;ä¸Šæ¬¡ç™»å½•æ—¶é—´ï¼š&quot;</span>+date.toLocaleString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            out.println(<span class="string">&quot;ç¬¬ä¸€æ¬¡è®¿é—®&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å‘ğŸª/æ›´æ–°ğŸª</span></span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;lastLogin&quot;</span>,System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æœ‰æ•ˆæœŸï¼Œå•ä½ï¼šç§’</span></span><br><span class="line">        cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨F12</p>
<p><img src="./image-20210801212901976.png" alt="image-20210801212901976"></p>
<p>å¥‡æ€ªçš„å®éªŒï¼šCookieåˆ†è·¯å¾„ã€‚ä¸‹é¢çš„æ˜¯æ‰‹åŠ¨æ·»åŠ çš„ï¼Œä¸Šé¢çš„æ˜¯ç¨‹åºä¸­è®¾ç½®çš„ï¼Œåˆ·æ–°ç½‘é¡µå‘ç°ä¸¤ä¸ªå…±å­˜ï¼Œä¸”åªæœ‰ç¨‹åºä¸­ç»™çš„lastLoginæ‰ä¼šæ›´æ–°ã€‚</p>
<p><img src="./image-20210801213356124.png" alt="image-20210801213356124"></p>
<h2 id="Session-æœåŠ¡å™¨â­"><a href="#Session-æœåŠ¡å™¨â­" class="headerlink" title="Session@æœåŠ¡å™¨â­"></a>Session@æœåŠ¡å™¨â­</h2><p>æœåŠ¡å™¨ä¼šç»™æ¯ä¸ªæµè§ˆå™¨åˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡ã€‚</p>
<p>æ ¸å¿ƒæ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HttpSession session = req.getSession();<span class="comment">//è·å–Session</span></span><br><span class="line">session.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;admin&quot;</span>);<span class="comment">//å°†Objectæ·»åŠ åˆ°Session</span></span><br><span class="line">String name =(String) session.getAttribute(<span class="string">&quot;name&quot;</span>);<span class="comment">//è¯»å–</span></span><br><span class="line">req.getSession().removeAttribute(<span class="string">&quot;name&quot;</span>);<span class="comment">//ç§»é™¤</span></span><br><span class="line">String id = session.getId();<span class="comment">//SessionID</span></span><br><span class="line">req.getSession().invalidate();<span class="comment">//Invalidates this session then unbinds any objects bound to it.</span></span><br></pre></td></tr></table></figure>

<p>Sessionå¯ä»¥åœ¨<code>web.xml</code>ä¸­é…ç½®è‡ªåŠ¨è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºåˆ†é’Ÿ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>1<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Java-Server-Pages"><a href="#Java-Server-Pages" class="headerlink" title="Java Server Pages"></a>Java Server Pages</h1><p>åŠ¨æ€WebæŠ€æœ¯ï¼ŒJSPä¸­å¯ä»¥åµŒå…¥Javaï¼Œæä¾›åŠ¨æ€æ•°æ®ã€‚</p>
<p>ç›¸æ¯”äºåŸå§‹Servletçš„resp.getWriter().write()ä¸€è¡Œè¡Œå†™æ ‡ç­¾ï¼ŒJSPå†™èµ·æ¥å’ŒHTMLä¸€æ ·æµç•…ã€‚</p>
<h2 id="JSPåŸç†"><a href="#JSPåŸç†" class="headerlink" title="JSPåŸç†"></a>JSPåŸç†</h2><p>ä»jspæ–‡ä»¶åˆ°æµè§ˆå™¨èƒ½æ¸²æŸ“å‡ºä¸€ä¸ªç½‘é¡µï¼Œç»å†äº†ä»€ä¹ˆï¼Ÿ</p>
<p>IDEAä½¿ç”¨Tomcatæ—¶ï¼Œç”Ÿæˆçš„workç›®å½•åœ¨è¿™é‡Œï¼šC:\Users\ljz\AppData\Local\JetBrains\IntelliJIdea2021.1\tomcat</p>
<p>å¯åŠ¨é¡¹ç›®æ—¶ï¼Œä¹Ÿä¼šåœ¨æ§åˆ¶å°æç¤ºå½“å‰é¡¹ç›®çš„è·¯å¾„</p>
<p><img src="./image-20210802095227223.png" alt="image-20210802095227223"></p>
<p>ç›®å½•ç»“æ„å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€conf</span><br><span class="line">â”‚  â””â”€Catalina</span><br><span class="line">â”‚      â””â”€localhost</span><br><span class="line">â”œâ”€logs</span><br><span class="line">â””â”€work</span><br><span class="line">    â””â”€Catalina</span><br><span class="line">        â””â”€localhost</span><br><span class="line">            â”œâ”€manager</span><br><span class="line">            â””â”€session_cookie_war</span><br><span class="line">                â””â”€org</span><br><span class="line">                    â””â”€apache</span><br><span class="line">                        â””â”€jsp(â­)</span><br></pre></td></tr></table></figure>

<p>åœ¨æœ€åçš„jspç›®å½•ä¸‹ï¼Œæœ‰javaå’Œclassä¸¤ä¸ªæ–‡ä»¶ï¼Œjavaä¸­å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œä¸”ç»§æ‰¿äº†HttpJspBase</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">index_jsp</span> <span class="keyword">extends</span> <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">HttpJspBase</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">JspSourceDependent</span>,</span></span><br><span class="line"><span class="class">                 <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">JspSourceImports</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>HttpJspBaseéœ€è¦åœ¨pomä¸­æ·»åŠ jasper-runtimeä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>tomcat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jasper-runtime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>HttpJspBaseæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œç»§æ‰¿äº†<strong>HttpServlet</strong>ï¼Œå®ç°äº†HttpJspPageæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpJspBase</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> <span class="keyword">implements</span> <span class="title">HttpJspPage</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼ŒJSPæœ¬è´¨å°±æ˜¯Servletã€‚</p>
<p>ç”Ÿæˆçš„javaä¸­ï¼Œè‡ªåŠ¨å°†jspé‡Œé¢å†™çš„æ ‡ç­¾write()å‡ºå»</p>
<p><img src="./image-20210802101245545.png" alt="image-20210802101245545"></p>
<p>æ ¸å¿ƒæ–¹æ³•æœ‰3ä¸ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspInit</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspDestroy</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspService</span><span class="params">(<span class="keyword">final</span> HttpServletRequest request, <span class="keyword">final</span> HttpServletResponse response)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>_jspService()</code>ä¸­ï¼Œå®šä¹‰äº†å‡ ä¸ªé‡ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨jspä¸­ç›´æ¥ä½¿ç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;</span><br><span class="line">javax.servlet.http.HttpSession session = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletContext application;</span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletConfig config;</span><br><span class="line">javax.servlet.jsp.JspWriter out = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">final</span> java.lang.Object page = <span class="keyword">this</span>;</span><br><span class="line">javax.servlet.jsp.JspWriter _jspx_out = <span class="keyword">null</span>;</span><br><span class="line">javax.servlet.jsp.PageContext _jspx_page_context = <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p>å…³ç³»ç»“æ„å¦‚ä¸‹ï¼Œå…¶ä¸­æ©˜è‰²èƒŒæ™¯ä¸ºfinalä¿®é¥°çš„é‡</p>
<p><img src="./image-20210802131132288.png" alt="image-20210802131132288"></p>
<h2 id="JSPè¯­æ³•"><a href="#JSPè¯­æ³•" class="headerlink" title="JSPè¯­æ³•"></a>JSPè¯­æ³•</h2><p>å‰é¢çš„é¡¹ç›®éƒ½æ˜¯ç›´æ¥æ ¹æ®æ¨¡æ¿æ–°å»ºwebappçš„ï¼Œä½†æ˜¯éœ€è¦è‡ªè¡Œæ·»åŠ javaå’Œresourceç›®å½•ã€‚</p>
<p>å¦å¤–ä¸€ç§æ–°å»ºé¡¹ç›®çš„æ–¹æ³•æ˜¯æ–°å»ºç©ºé¡¹ç›®ï¼Œåœ¨é¡¹ç›®åå¤„å³å‡»ï¼Œæ·»åŠ æ¡†æ¶æ”¯æŒï¼Œé€‰æ‹©Web Applicationã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œwebç›®å½•ä¸å†ä½äºsrcä¸‹ï¼Œè€Œæ˜¯ä¸srcåŒçº§ï¼›ä¸”web.xmlä¸­çš„versionæ˜¯æ–°ç‰ˆçš„ã€‚</p>
<h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--JSPæ³¨é‡Š,ä¸ä¼šä¿ç•™åœ¨å‰ç«¯é¡µé¢--%&gt;</span><br><span class="line">&lt;!--HTMLæ³¨é‡Š--&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Javaè¯­å¥"><a href="#Javaè¯­å¥" class="headerlink" title="Javaè¯­å¥"></a>Javaè¯­å¥</h3><p>åˆ†ä¸ºå•è¡Œå’Œå¤šè¡Œä¸¤ç§ï¼Œå•è¡Œçš„ç”¨äºè¡¨è¾¾å¼è¾“å‡ºä¸€ä¸ªå€¼</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--å•è¡Œ--%&gt;</span><br><span class="line">&lt;%=<span class="keyword">new</span> java.util.Date()%&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;%--å¤šè¡Œ--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">    sum+=j;</span><br><span class="line">&#125;</span><br><span class="line">&lt;%--è¿˜å¯ä»¥ä½¿ç”¨&lt;%=sum%&gt;è¾“å‡º--%&gt;</span><br><span class="line">out.println(sum);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>workç›®å½•ä¸‹çš„javaä¸­ï¼Œä¸Šé¢çš„jspå¯¹åº”äº_jspServiceä¸­çš„å¦‚ä¸‹éƒ¨åˆ†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  out.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;&lt;html&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;  &lt;head&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;    &lt;title&gt;$Title$&lt;/title&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;  &lt;/head&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;  &lt;body&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">  out.write(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">  out.write(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">  out.print(<span class="keyword">new</span> java.util.Date());</span><br><span class="line">  out.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;&lt;hr&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;  &quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">  sum+=j;</span><br><span class="line">&#125;</span><br><span class="line">out.println(sum);</span><br><span class="line">  </span><br><span class="line">  out.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;  &lt;/body&gt;\n&quot;</span>);</span><br><span class="line">  out.write(<span class="string">&quot;&lt;/html&gt;\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯æºç å¦‚ä¸‹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>$Title$<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  Mon Aug 02 15:13:03 CST 2021</span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  45</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="JSPå£°æ˜"><a href="#JSPå£°æ˜" class="headerlink" title="JSPå£°æ˜"></a>JSPå£°æ˜</h3><p>å¦‚æœè¦å°†javaè¯­å¥å—ç”Ÿæˆåœ¨_jspServiceä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;å½“å‰åœ¨testä¸­&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨workç›®å½•ä¸‹çš„javaä¸­ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«ç¼–è¯‘åˆ°index_jspç±»ä¸‹ã€‚å¦‚æœè¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œéœ€è¦åœ¨jspä¸­ä»¥è¯­å¥å—çš„å½¢å¼è°ƒç”¨ï¼š</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">test();</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæ¯æ¬¡è®¿é—®jspé¡µé¢æ—¶ï¼ŒIDEAéƒ½ä¼šæ‰“å°å‰åœ¨testä¸­ã€‚</p>
<h3 id="DIYé”™è¯¯é¡µé¢"><a href="#DIYé”™è¯¯é¡µé¢" class="headerlink" title="DIYé”™è¯¯é¡µé¢"></a>DIYé”™è¯¯é¡µé¢</h3><p>å½“JSPä¸­åµŒå…¥çš„Javaæœ‰å¼‚å¸¸æ—¶ï¼Œä¼šå‡ºç°500é”™è¯¯ï¼Œå¯ä»¥åœ¨JSPå¼€å¤´è‡ªå®šä¹‰é”™è¯¯é¡µé¢:</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page errorPage=<span class="string">&quot;./500.jsp&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>

<p>å‡ºç°é”™è¯¯æ—¶ï¼Œå°†å±•ç¤º500.jspçš„å†…å®¹ï¼ŒæŠ“åŒ…å‘ç°ä¸¤æ¬¡è¯·æ±‚çš„çŠ¶æ€ç <strong>éƒ½æ˜¯200</strong></p>
<hr>

<p>é”™è¯¯é¡µé¢çš„è·³è½¬ä¹Ÿå¯ä»¥åœ¨web.xmlä¸­è¿›è¡Œé…ç½®ï¼Œlocationæ˜¯ä»é¡¹ç›®æ ¹ç›®å½•ç®—èµ·çš„ç›®å½•ã€‚</p>
<p>ä¸¤æ¬¡è¯·æ±‚çš„çŠ¶æ€ç åˆ†åˆ«æ˜¯<strong>500å’Œ200</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>500<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/500.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>

<p>web.xmlä¸­å¯è®¾ç½®çš„æ›´å¤šï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>500<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/500.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/404.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŒ…å«HTMLå…¬å…±é¡µé¢"><a href="#åŒ…å«HTMLå…¬å…±é¡µé¢" class="headerlink" title="åŒ…å«HTMLå…¬å…±é¡µé¢"></a>åŒ…å«HTMLå…¬å…±é¡µé¢</h3><p>å¯ä»¥ä½¿ç”¨<code>&lt;%@include file=&quot;xxx&quot;%&gt;</code>çš„æ–¹å¼åŒ…å«é¡µé¢</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/header.jsp&quot;</span>%&gt;</span><br><span class="line">&lt;h1&gt;Content-<span class="number">1</span>&lt;/h1&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/footer.jsp&quot;</span>%&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿™ç§æ–¹å¼includeçš„é¡µé¢æ˜¯ç›´æ¥å°†è¢«å¼•ç”¨çš„é¡µé¢åŸå°ä¸åŠ¨åœ°æ”¾åˆ°äº†htmlä¸­ã€‚ç”Ÿæˆçš„javaå¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">out.write(<span class="string">&quot;&lt;html&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;title&gt;Title&lt;/title&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;h1&gt;Header&lt;/h1&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/html&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;h1&gt;Content-1&lt;/h1&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;html&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;title&gt;Title&lt;/title&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;h1&gt;Footer&lt;/h1&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/html&gt;\r\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<hr>

<p>å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨jspæ ‡ç­¾</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:include page=<span class="string">&quot;/common/header.jsp&quot;</span>/&gt;</span><br><span class="line">&lt;h1&gt;Content-<span class="number">2</span>&lt;/h1&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;/common/footer.jsp&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿™ç§æ–¹æ³•æ˜¯ç‹¬ç«‹åœ°å¼•å…¥äº†ä¸¤ä¸ªé¡µé¢ï¼Œjavaå¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, <span class="string">&quot;/common/header.jsp&quot;</span>, out, <span class="keyword">false</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;h1&gt;Content-2&lt;/h1&gt;\r\n&quot;</span>);</span><br><span class="line">org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, <span class="string">&quot;/common/footer.jsp&quot;</span>, out, <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<hr>

<p>åè€…ç›¸å¯¹ç‹¬ç«‹(å¤šä¸ªé¡µé¢ä¹‹é—´çš„å˜é‡ä¸å†²çª)ï¼Œæ›´åŠ å¸¸ç”¨</p>
<h2 id="JSPä¹å¤§å¯¹è±¡"><a href="#JSPä¹å¤§å¯¹è±¡" class="headerlink" title="JSPä¹å¤§å¯¹è±¡"></a>JSPä¹å¤§å¯¹è±¡</h2><p>ä¹å¤§å¯¹è±¡æ˜¯æŒ‡ï¼š</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td>request</td>
<td>å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td>response</td>
<td></td>
</tr>
<tr>
<td>session</td>
<td>å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td>application</td>
<td>å­˜ä¸œè¥¿(ServletContext)</td>
</tr>
<tr>
<td>config</td>
<td></td>
</tr>
<tr>
<td>page</td>
<td></td>
</tr>
<tr>
<td>out</td>
<td></td>
</tr>
<tr>
<td>exception</td>
<td></td>
</tr>
</tbody></table>
<p>éƒ¨åˆ†å…³ç³»å†æ¬¡å±•ç¤ºå¦‚ä¸‹ï¼Œæ©˜è‰²è¡¨ç¤ºè¢«finalä¿®é¥°</p>
<p><img src="./image-20210802131132288.png" alt="image-20210802131132288"></p>
<p>èƒ½å­˜æ”¾æ•°æ®çš„å››ä¸ªæ˜¯é‡ç‚¹</p>
<hr>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;from&quot;</span>,<span class="string">&quot;pageContext&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;from&quot;</span>,<span class="string">&quot;request&quot;</span>);</span><br><span class="line">	session.setAttribute(<span class="string">&quot;from&quot;</span>,<span class="string">&quot;session&quot;</span>);</span><br><span class="line">    application.setAttribute(<span class="string">&quot;from&quot;</span>,<span class="string">&quot;application&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="comment">//    out.println(pageContext.getAttribute(&quot;from&quot;));</span></span><br><span class="line"><span class="comment">//    out.println(request.getAttribute(&quot;from&quot;));</span></span><br><span class="line"><span class="comment">//    out.println(session.getAttribute(&quot;from&quot;));</span></span><br><span class="line"><span class="comment">//    out.println(application.getAttribute(&quot;from&quot;));</span></span><br><span class="line">    String from = (String) pageContext.findAttribute(<span class="string">&quot;from&quot;</span>);</span><br><span class="line">    out.println(from);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>setAttribute</code>æ–¹æ³•å¯ä»¥è®¾ç½®å±æ€§ï¼Œä½¿ç”¨<code>getAttribute</code>å¯ä»¥å¯¹åº”å–å‡ºã€‚</p>
<p>å¦å¤–ä¸€ç§å–å‡ºå±æ€§çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>pageContext</code>çš„<code>findAttribute</code>æ–¹æ³•ã€‚å¯¹äºä¸Šé¢è¿™ç§å››å¤„åŒåçš„å‚æ•°ï¼Œä½¿ç”¨<code>pageContext.findAttribute</code>æ–¹æ³•å–å‡ºçš„æ˜¯<code>pageContext</code>ï¼Œå› ä¸ºå››ç§å­˜æ•°æ®æ–¹å¼æœ‰scopeä¸Šçš„åŒºåˆ«ï¼Œä½œç”¨åŸŸä»å°åˆ°å¤§ä¾æ¬¡æ˜¯pageContextã€requestã€sessionã€applicationã€‚</p>
<p><code>pageContext</code>ä¹Ÿæœ‰<code>setAttribute</code>æ–¹æ³•ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAttribute</span><span class="params">(String name, Object attribute)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mPage.put(name, attribute);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAttribute</span><span class="params">(String name, Object attribute, <span class="keyword">int</span> scope)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(scope) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">this</span>.mPage.put(name, attribute);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">this</span>.mRequest.put(name, attribute);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">this</span>.mSession.put(name, attribute);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="keyword">this</span>.mApp.put(name, attribute);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Bad scope &quot;</span> + scope);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å››ç§ä½œç”¨åŸŸæ€»ç»“å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th align="center">ä½œç”¨åŸŸ</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pageContext</td>
<td align="center">åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td align="center">request</td>
<td align="center">åœ¨ä¸€æ¬¡è¯·æ±‚ä¸­(å«è¯·æ±‚è½¬å‘)æœ‰æ•ˆ</td>
</tr>
<tr>
<td align="center">session</td>
<td align="center">åœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td align="center">application</td>
<td align="center">ä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨éƒ½æœ‰æ•ˆ</td>
</tr>
</tbody></table>
<h2 id="JSP-JSTL-EL"><a href="#JSP-JSTL-EL" class="headerlink" title="JSP/JSTL/EL"></a>JSP/JSTL/EL</h2><p>å¯¼åŒ…</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--JSTLè¡¨è¾¾å¼ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ ‡ç­¾åº“--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Expression-Language"><a href="#Expression-Language" class="headerlink" title="Expression Language"></a>Expression Language</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><ul>
<li>è·å–æ•°æ®</li>
<li>æ‰§è¡Œè¿ç®—</li>
<li>è·å–webå¼€å‘å¸¸ç”¨å¯¹è±¡</li>
</ul>
<h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--<span class="number">1.</span>includeé¡µé¢--%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;/common/header.jsp&quot;</span>/&gt;</span><br><span class="line">&lt;%--<span class="number">2.</span>é¡µé¢è½¬å‘(ä¸æ˜¯é‡å®šå‘)--%&gt;</span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;./include.jsp&quot;</span>/&gt;</span><br><span class="line">&lt;%--è½¬å‘æ—¶å€™è¿˜å¯ä»¥ä¼ å‚æ•°--%&gt;</span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;./include.jsp&quot;</span>&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;name&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;18&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br><span class="line">&lt;%--å–å‚æ•°æ–¹æ³•å¦‚ä¸‹--&gt;</span><br><span class="line">&lt;%=request.getParameter(<span class="string">&quot;name&quot;</span>)%&gt;</span><br><span class="line">&lt;%=request.getParameter(<span class="string">&quot;age&quot;</span>)%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="JSTL-Java-server-pages-Standard-Tag-Library"><a href="#JSTL-Java-server-pages-Standard-Tag-Library" class="headerlink" title="JSTL(Java server pages Standard Tag Library)"></a>JSTL(<strong>Java server</strong> pages Standard Tag Library)</h3><p>JSTPæä¾›äº†è®¸å¤šæ ‡ç­¾ï¼Œæ ‡ç­¾çš„ä½œç”¨åŒJavaä»£ç ã€‚</p>
<h4 id="ä¸å¸¸ç”¨"><a href="#ä¸å¸¸ç”¨" class="headerlink" title="ä¸å¸¸ç”¨"></a>ä¸å¸¸ç”¨</h4><ul>
<li>æ ¼å¼åŒ–æ ‡ç­¾</li>
<li>SQLæ ‡ç­¾</li>
<li>XMLæ ‡ç­¾</li>
</ul>
<h4 id="æ ¸å¿ƒæ ‡ç­¾â­"><a href="#æ ¸å¿ƒæ ‡ç­¾â­" class="headerlink" title="æ ¸å¿ƒæ ‡ç­¾â­"></a>æ ¸å¿ƒæ ‡ç­¾â­</h4><h5 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h5><ul>
<li><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp.jstl/jstl-api --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        JSTLè¡¨è¾¾å¼ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/taglibs/standard --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        æ ‡ç­¾åº“--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>æ ¸å¿ƒæ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„JSTLæ ‡ç­¾ã€‚JSPä¸­å¼•ç”¨æ ¸å¿ƒæ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>å¦å¤–ï¼Œè¦å°†jstl-apiå’Œtaglibä¸¤ä¸ªjsråŒ…æ”¾åˆ°Tomcatçš„libè·¯å¾„ä¸‹</p>
</li>
</ul>
<h5 id="ä½¿ç”¨-2"><a href="#ä½¿ç”¨-2" class="headerlink" title="ä½¿ç”¨"></a><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/jsp/jsp-jstl.html">ä½¿ç”¨</a></h5><h2 id="JavaBeanå®ä½“ç±»"><a href="#JavaBeanå®ä½“ç±»" class="headerlink" title="JavaBeanå®ä½“ç±»"></a>JavaBeanå®ä½“ç±»</h2><p>ç”¨äºORMï¼Œå†™æ³•ï¼š</p>
<ul>
<li>å±æ€§ç§æœ‰ï¼Œset/get</li>
<li>æœ‰æ— å‚æ„é€ </li>
</ul>
<h1 id="MVCä¸‰å±‚æ¶æ„"><a href="#MVCä¸‰å±‚æ¶æ„" class="headerlink" title="MVCä¸‰å±‚æ¶æ„"></a>MVCä¸‰å±‚æ¶æ„</h1><ul>
<li>Model<ul>
<li>ä¸šåŠ¡å¤„ç†</li>
<li>æ•°æ®æŒä¹…åŒ–</li>
</ul>
</li>
<li>View<ul>
<li>å±•ç¤ºæ•°æ®</li>
<li>å‘èµ·Servletè¯·æ±‚</li>
</ul>
</li>
<li>Controller<ul>
<li>æ¥æ”¶è¯·æ±‚</li>
<li>æ§åˆ¶è§†å›¾è·³è½¬</li>
<li>è°ƒç”¨ä¸šåŠ¡å¤„ç†</li>
</ul>
</li>
</ul>
<h1 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h1><blockquote>
<p>è¿‡æ»¤å™¨å’ŒServletå†™æ³•å¾ˆåƒ</p>
</blockquote>
<p>ä»¥è®¾ç½®UTF-8ç¼–ç ä¸ºä¾‹ï¼Œé¦–å…ˆä¿®æ”¹ç¼–ç ï¼Œç„¶åchainæ”¾è¡Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;filter inited&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿‡æ»¤å‰&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿‡æ»¤å&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;filter destroyed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>web.xml</code>ä¸­é…ç½®è¿‡æ»¤å™¨çš„ä½¿ç”¨èŒƒå›´</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>ft<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>ft<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/lang/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>

<p>è¿‡æ»¤å™¨ç”±äºåœ¨Servletå‰ä¸€çº§ï¼Œå¯ä»¥åœ¨<code>init</code>ä¸­è®¾ç½®ä¸€äº›å±æ€§</p>
<hr>

<p>ä½¿ç”¨è¿‡æ»¤å™¨å®ç°ç”¨æˆ·çš„ç™»å½•ä¸ç™»å‡º</p>
<h1 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h1><h2 id="sessionç›‘å¬"><a href="#sessionç›‘å¬" class="headerlink" title="sessionç›‘å¬"></a>sessionç›‘å¬</h2><p>å®ç°æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListenerDemo</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent httpSessionEvent)</span> </span>&#123;</span><br><span class="line">        ServletContext servletContext = httpSessionEvent.getSession().getServletContext();</span><br><span class="line">        Integer onlineNum =(Integer) servletContext.getAttribute(<span class="string">&quot;num&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(onlineNum==<span class="keyword">null</span>)&#123;</span><br><span class="line">            onlineNum = <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            onlineNum += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;num&quot;</span>,onlineNum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent httpSessionEvent)</span> </span>&#123;</span><br><span class="line">        ServletContext servletContext = httpSessionEvent.getSession().getServletContext();</span><br><span class="line">        Integer onlineNum =(Integer) servletContext.getAttribute(<span class="string">&quot;num&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(onlineNum==<span class="keyword">null</span>)&#123;</span><br><span class="line">            onlineNum = <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            onlineNum -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;num&quot;</span>,onlineNum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®ç›‘å¬ web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>ListenerDemo<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‰ç«¯å±•ç¤º</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;åœ¨çº¿äººæ•°&lt;/h2&gt;</span><br><span class="line">&lt;div style=<span class="string">&quot;color: blue&quot;</span>&gt;</span><br><span class="line">    &lt;%=<span class="keyword">this</span>.getServletConfig().getServletContext().getAttribute(<span class="string">&quot;num&quot;</span>)%&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="JDBCå¤ä¹ "><a href="#JDBCå¤ä¹ " class="headerlink" title="JDBCå¤ä¹ "></a>JDBCå¤ä¹ </h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJDBC</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=UTF-8&quot;</span>;</span><br><span class="line">        String name = <span class="string">&quot;xxx&quot;</span>;</span><br><span class="line">        String pw = <span class="string">&quot;xxx&quot;</span>;</span><br><span class="line">        <span class="comment">//åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//è¿æ¥æ•°æ®åº“</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(url, name, pw);</span><br><span class="line">        <span class="comment">//SQLæ‰§è¡Œå¯¹è±¡</span></span><br><span class="line">        Statement statement = connection.createStatement();</span><br><span class="line">        <span class="comment">//ç¼–å†™SQL</span></span><br><span class="line">        String sql = <span class="string">&quot;select * from suers&quot;</span>;</span><br><span class="line">        <span class="comment">//æ‰§è¡ŒSQL</span></span><br><span class="line">        ResultSet resultSet = statement.executeQuery(sql);</span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(resultSet.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(resultSet.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            System.out.println(resultSet.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">            System.out.println(resultSet.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(resultSet.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…³é—­è¿æ¥</span></span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="JUNITæµ‹è¯•"><a href="#JUNITæµ‹è¯•" class="headerlink" title="JUNITæµ‹è¯•"></a>JUNITæµ‹è¯•</h1><p><code>import org.junit.Test;</code>ä¹‹åï¼Œç¨‹åºä¸éœ€è¦ä¾èµ–main()ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼šæ·»åŠ Testæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="./image-20210803181252531.png" alt="image-20210803181252531"></p>
<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><p>é¦–å…ˆå¼•å…¥jQuery</p>
<h2 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Ajax&lt;/title&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.6.0.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;%--å¤±å»ç„¦ç‚¹æ—¶å°†æ–‡æœ¬æ¡†å†…å®¹å‘é€ç»™æœåŠ¡å™¨,æ§åˆ¶å°æ‰“å°æœåŠ¡å™¨è¿”å›çš„æ•°æ®--%&gt;</span><br><span class="line">    <span class="function">function <span class="title">f</span><span class="params">()</span></span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            url:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/ajax&quot;</span>,</span><br><span class="line">            data:&#123;<span class="string">&quot;name&quot;</span>:$(<span class="string">&#x27;#txt&#x27;</span>).val()&#125;,</span><br><span class="line">            success:function (data)&#123;</span><br><span class="line">                console.log(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    username:&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;txt&quot;</span> onblur=<span class="string">&quot;f()&quot;</span>&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h2><p>æ‰“å°å‰ç«¯å‘æ¥çš„æ¶ˆæ¯ï¼Œç›¸åº”ä¸€ä¸²å­—ç¬¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ajax</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(req.getParameter(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;servlet echo~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="è®¢å•ç®¡ç†ç³»ç»Ÿå›é¡¾"><a href="#è®¢å•ç®¡ç†ç³»ç»Ÿå›é¡¾" class="headerlink" title="è®¢å•ç®¡ç†ç³»ç»Ÿå›é¡¾"></a>è®¢å•ç®¡ç†ç³»ç»Ÿå›é¡¾</h1><p>JSP-&gt;Servlet-&gt;Service-&gt;DAO-&gt;JDBC-&gt;MySQL</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/Web/" rel="tag"># Web</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/07/27/mysql/" rel="prev" title="MySQL">
                  <i class="fa fa-chevron-left"></i> MySQL
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/08/05/mybatis/" rel="next" title="MyBatis">
                  MyBatis <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">movice</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
